;; -*- mode: scheme; -*-

;;; Channel pinning - assuming / expecting:

;;; 1. If no commit is pinned, then the channel specification is done via
;;;    `guix pull'.
;;;
;;; 2. Channel-pinning makes sense only if the particular pin-commit specified
;;;    here is older that the latest commit, implicitly or explicitly
;;;    specified by `guix pull'
;;;
;;; TODO test what happens if the pin-commit specified hier comes after the commit specified by `guix pull'.

(channel
 (version 0)
 ;; (news-file "etc/news.scm")
 ;; (keyring-reference "keyring")
 (directory "src")
 (dependencies

  ;; See guix describe --format=channels
  (channel
   (name guix) ; channel name can't be quoted
   (url
    ;; ,(format #f "file://~a/dev/guix" home)
    ;; "https://git.savannah.gnu.org/git/guix.git"
    "https://codeberg.org/guix/guix.git"
    )
   ;; Pin channel to the commit:
   ;; (commit "806ac0cc045d9b3ea87898bd9343634ee90d2c39")
   (introduction
    (channel-introduction  ; enables signature verification
     (version 0)
     ;; Some commit must be specified. Omitting (commit ...) doesn't work
     (commit "9edb3f66fd807b096b48283debdcddccfea34bad")
     (signer "BBB0 2DDF 2CEA F6A8 0D1D  E643 A2A0 6DF2 A33A 54FA"))))

  (channel
   (name nonguix) ; channel name can't be quoted
   (url "https://gitlab.com/nonguix/nonguix.git")
   ;; Pin channel to the commit:
   ;; (commit "5ed7546593dd205f1dd4473b58afa855c07e033d")
   (introduction ; enables signature verification
    (channel-introduction
     (version 0)
     ;; Some commit must be specified. Omitting (commit ...) doesn't work
     (commit "897c1a470da759236cc11798f4e0a5f7d4d59fbc")
     (signer "2A39 3FFF 68F4 EF7A 3D29  12AF 6F51 20A0 22FB B2D5"))))
  ))
